%\documentclass{kuthesis}
%\documentclass[twocolumn]{jsarticle}
\documentclass[12pt,titlepage]{jsarticle}

\usepackage{bm}
\usepackage{listings}

\lstset{
basicstyle={\ttfamily\scriptsize}, %書体の指定
frame=none,      %フレームの指定
framesep=10pt,   %フレームと中身（コード）の間隔
breaklines=true, %行が長くなった場合の改行
linewidth=12cm,  %フレームの横幅
lineskip=0.0ex,  %行間の調整
tabsize=2        %Tabを何文字幅にするかの指定
}

% \begin{lstlisting}
% \end{lstlisting}

\title{不審者からユーザーを守るロボットの\\動作アルゴリズムの構築}
\author{内藤 謙史郎}
\date{2019/2/8}

\begin{document}
\maketitle
\section{はじめに}

/*TODO 多分もうちょっと広いbackgroundから書ける*/


一人で帰る夜道……不審者に遭遇しないかと不安になることも多いだろう。そんなとき、一人で帰るよりも二人・複数人で一緒に帰る方が不審者に襲われにくいということは想像に難くない。しかし、いつも一緒に帰ってくれる人がいるとは限らない。その役割をロボットに任せることはできないだろうか。

現状でも、防犯ブザーや催涙スプレーのように不審者から身を守るためのグッズがあり、それらは広く利用されている。ただこれらは不審者に襲われてしまった後の対策として用いられている面が強い。それとはまた違った方向で、ロボットの存在が前もって犯罪を抑止できるような状況を実現し、ユーザーにより確かな安心感を提供するための一助になればと考える。

\section{関連研究}
関連のある他の研究をあげながら、本研究の立ち位置について考えたい。

まず、人とロボットが同じ空間内にあってそれぞれ行動するときに起こる現象に関する研究というものが数多く存在する。例えば、目的地まで障害物を避けながら人をナビゲートするロボットに関する研究がある\cite{1}。本研究はそのような研究の中の一つと考えることができるだろう。

さらに、空間を共有する人間に対してロボット良い印象を与えることを目的とした研究が存在する。例えば、展示を見て回る人間を極力邪魔しないようにしつつ案内を必要とする人間に近づくという動作に関する研究\cite{2}などがある。本研究は、これらとは逆に、不審者に対してプレッシャーを与え、犯罪行動を抑止するような動作を追求するものとなる。

そのような研究として近いものを探したところ、VIPの護衛を目的をして周囲の脅威を最小化する護衛ロボットの研究\cite{3}が存在した。目指しているものは本研究とほぼ同じものであるが、こちらの研究\cite{3}は周囲の人間の位置関係から「脅威度」を定義し、数値化されたそれを最小化するようなロボットの動作を模索するというアプローチであった。対して本研究では、同じような状況で人間が取る行動を観察し、有効なアルゴリズムをヒューリスティックに探すというアプローチを取ることにする。

/* TODO [2],[3]もっと具体的な内容まで書く？ */

\section{対象と問題の設定}
robot, partner（ユーザ）, enemy（不審者）という三者を対象として考える。robotは普段partnerと目的地まで連れ立って歩く状態であるが、不審者を検知した際にはpartnerを守る動きをとる状態に移行する。それぞれの状態をnormal mode（通常状態）、protect mode（護衛状態）と呼ぶ。

/* TODO 図 */

enemyについては、partnerの所有物を奪おうとしている、危害を加えようとしているなど様々な想定が可能であるが、今回はそれらを総括してひとまずpartnerのいる地点まで近づくという動きをとるものとする。また、近づいてくる人物がenemyであると判断するためには様々な要素が必要であるだろうが、今回はその判断の中身には触れず、単純に近づいて来るものはenemyであるという扱いをする。

以上の三者の中において、robotにどのような動きをとらせるのが最適かを考えていく。


\section{観察・分析}
ロボットにあるタスクを行わせたい時、実装するべき最適なアルゴリズムを考えるにあたり、最初に参考とすべき情報として、同じタスクを人間がどのように実行するのかを観察することがあげられる。

\subsection{観察サンプルとなる動画の撮影}

３名の協力者の方にそれぞれrobot, partner, enemyのロールプレイをお願いし、その様子を動画に撮影した。

/* TODO ビデオのキャプチャ画像 */

人間ならば不審者からユーザを守ろうとした時どのような動きをとるかを観察し、アルゴリズムとして落とし込めそうな部分を探した。

\subsection{分析}

観察した結果、以下のような動作を

\begin{itemize}
\item robotは、partnerとenemyを結んだ直線上を位置取る。
\item robotは、partnerと一定の距離を保ちながら動く。
\item robotは、常にenemyの方を向いている。
\item /*TODO*/
\end{itemize}


/* TODO 前から向かって来る状況・後ろから追いかけられる状況 */

\section{アルゴリズム}

/* TODO 比較対象となるただ避けるだけ（protect mode が存在しない）のアルゴリズムについても記述する？ */

\begin{itemize}
	\item robotはpartnerとenemyを結ぶ直線上に移動する
	\item 直線上のどの位置に行くべきか（例えばpartner寄り、enemy寄り、真ん中、など）をパラメータ化する。
	\item robotはenemyの方を常に向き続ける。（enemyに対してプレッシャーを与える）
	\item enemyどの程度（どのように）近づいてきたら防衛の動きに移るかをパラメータ化する。
	\item social range（普段のロボットと人の距離）, protect ranges（遭遇時の距離）をパラメータ化する。
	\item （ロボットの移動速度の上限をパラメータ化する（実機の移動速度上限））
\end{itemize}

\input{./algorithm.tex}

/* TODO 説明 と 図 */

\section{実装}

/* TODO */

使用したモジュール、メッセージ、

\section{実験}

\subsection{シミュレーション}
先の過程で得られたアルゴリズム案を、まずはシミュレーションの中で実行してみる。

シミュレータmorse上に設定したフィールドに対象となるの三者を配置し、partnerをキーボードで操作可能なように、enemyをpartnerに接近するようにスクリプトにより設定し、それらに対してrobotがとるべきと考えられる動きをシミュレーション上で実装する。

/* TODO パラメータを変化させた複数のシミュレーション結果をまとめる */

%（ユーザの安心感・不審者側の警戒心といったものをシミュレーションでどう測る？）

\subsection{実験室実験}
シミュレーション上で実装したアルゴリズムをRobovie-R3の実機にインストールし、実験室内で動作させたい。
（←ロボットについての説明とかだけ書いといて、実機を動かした動画は2/14の発表で見せる？）


\subsection{評価手法}

\begin{itemize}
\item 提案手法vs障害物を避けるだけのアルゴリズム
\item シミュレーション上or実機と人間の被験者
\end{itemize}


\section{結論}


\subsection{評価}
/* TODO */

\subsection{考察}
/* TODO */

\subsection{今後の課題}
/* TODO */

\section{謝辞}
/* TODO */

\section*{/* TODO \downarrow 参考文献の書き方 */}

\begin{thebibliography}{3}
\bibitem{1} Towards a Socially Acceptable Collision Avoidance for a Mobile Robot Navigating Among Pedestrians Using a Pedestrian Model
\bibitem{2} May I help you? - Design of partner-like polite approaching behavior -
\bibitem{3} Controlling the Movement of Robotic Bodyguards for Maximal Physical Protection
\end{thebibliography}
\end{document}
